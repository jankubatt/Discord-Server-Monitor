{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\morpheus\\\\Projects\\\\discord-activity\\\\frontend\\\\src\\\\components\\\\Chart\\\\UserChart.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserChart = ({\n  data,\n  users,\n  milisecondsSpan\n}) => {\n  _s();\n  const [tooltip, setTooltip] = useState(false);\n  const [tooltipText, setTooltipText] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const calculateWidth = (startTime, endTime) => {\n    console.log(data);\n    console.log(document.getElementById(\"user-info-box\").offsetWidth);\n    const timeDiff = startTime - endTime;\n    const maxWidth = document.getElementById(\"user-info-box\").offsetWidth; // Maximum width based on screen width\n    const percentage = timeDiff / milisecondsSpan * 100; // Convert time difference to percentage\n    return maxWidth * percentage / 100; // Calculate width based on percentage\n  };\n\n  const handleMouseEnter = (e, text) => {\n    setTooltip(true);\n    setTooltipText(text);\n    updateTooltipPosition(e);\n  };\n  const handleMouseMove = e => {\n    updateTooltipPosition(e);\n  };\n  const handleMouseLeave = () => {\n    setTooltip(false);\n  };\n  const updateTooltipPosition = e => {\n    setTooltipPosition({\n      x: e.clientX,\n      y: e.clientY\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [users === null || users === void 0 ? void 0 : users.map((user, index) => {\n      const userStatuses = data;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\"\n          },\n          children: user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n            maxWidth: document.getElementById(\"user-info-box\").offsetWidth\n          },\n          children: userStatuses === null || userStatuses === void 0 ? void 0 : userStatuses.map((item, index) => {\n            var _userStatuses, _userStatuses2, _userStatuses3, _userStatuses6;\n            const startTime = item.timestamp;\n            const endTime = index === 0 ? item.timestamp : userStatuses[index - 1].timestamp;\n            const width = calculateWidth(startTime, endTime);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                backgroundColor: ((_userStatuses = userStatuses[index - 1]) === null || _userStatuses === void 0 ? void 0 : _userStatuses.status) === \"offline\" ? \"grey\" : ((_userStatuses2 = userStatuses[index - 1]) === null || _userStatuses2 === void 0 ? void 0 : _userStatuses2.status) === \"dnd\" ? \"red\" : ((_userStatuses3 = userStatuses[index - 1]) === null || _userStatuses3 === void 0 ? void 0 : _userStatuses3.status) === \"idle\" ? \"orange\" : \"green\",\n                minWidth: `${width}px`,\n                minHeight: \"20px\" // Set the height as per your requirement\n              },\n\n              onMouseEnter: e => {\n                var _userStatuses4, _userStatuses5;\n                return handleMouseEnter(e, JSON.stringify({\n                  ...item,\n                  status: (_userStatuses4 = userStatuses[index - 1]) === null || _userStatuses4 === void 0 ? void 0 : _userStatuses4.status,\n                  startTime: (_userStatuses5 = userStatuses[index - 1]) === null || _userStatuses5 === void 0 ? void 0 : _userStatuses5.timestamp\n                }));\n              },\n              onMouseMove: handleMouseMove,\n              onMouseLeave: handleMouseLeave,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  display: \"none\"\n                },\n                children: JSON.stringify({\n                  ...item,\n                  startTime: (_userStatuses6 = userStatuses[index - 1]) === null || _userStatuses6 === void 0 ? void 0 : _userStatuses6.timestamp\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 41\n              }, this)\n            }, `${item.timestamp}${index}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }, this)]\n      }, user.username + index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: tooltip ? \"block\" : \"none\",\n        position: \"absolute\",\n        top: tooltipPosition.y + 10,\n        left: tooltipPosition.x + 10,\n        backgroundColor: \"#fff\",\n        padding: \"5px\",\n        border: \"1px solid #ccc\",\n        borderRadius: \"5px\",\n        boxShadow: \"0 0 5px rgba(0, 0, 0, 0.1)\",\n        color: \"black\"\n      },\n      children: tooltipText && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: 0\n        },\n        children: [JSON.parse(tooltipText).username, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 90\n        }, this), new Date(JSON.parse(tooltipText).startTime).toLocaleString(\"cs\"), \" - \", new Date(JSON.parse(tooltipText).timestamp).toLocaleString(\"cs\"), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 230\n        }, this), JSON.parse(tooltipText).status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(UserChart, \"L161HfIeFo+jnW9J2yAb29Rh82I=\");\n_c = UserChart;\nexport default UserChart;\nvar _c;\n$RefreshReg$(_c, \"UserChart\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","Fragment","_Fragment","UserChart","data","users","milisecondsSpan","_s","tooltip","setTooltip","tooltipText","setTooltipText","tooltipPosition","setTooltipPosition","x","y","calculateWidth","startTime","endTime","console","log","document","getElementById","offsetWidth","timeDiff","maxWidth","percentage","handleMouseEnter","e","text","updateTooltipPosition","handleMouseMove","handleMouseLeave","clientX","clientY","children","map","user","index","userStatuses","style","position","username","fileName","_jsxFileName","lineNumber","columnNumber","display","flexDirection","justifyContent","item","_userStatuses","_userStatuses2","_userStatuses3","_userStatuses6","timestamp","width","backgroundColor","status","minWidth","minHeight","onMouseEnter","_userStatuses4","_userStatuses5","JSON","stringify","onMouseMove","onMouseLeave","top","left","padding","border","borderRadius","boxShadow","color","margin","parse","Date","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/morpheus/Projects/discord-activity/frontend/src/components/Chart/UserChart.jsx"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nconst UserChart = ({ data, users, milisecondsSpan }) => {\r\n    const [tooltip, setTooltip] = useState(false);\r\n    const [tooltipText, setTooltipText] = useState(null);\r\n    const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });\r\n\r\n    const calculateWidth = (startTime, endTime) => {\r\n        console.log(data)\r\n        console.log(document.getElementById(\"user-info-box\").offsetWidth)\r\n        const timeDiff = startTime - endTime;\r\n        const maxWidth = document.getElementById(\"user-info-box\").offsetWidth; // Maximum width based on screen width\r\n        const percentage = (timeDiff / milisecondsSpan) * 100; // Convert time difference to percentage\r\n        return (maxWidth * percentage) / 100; // Calculate width based on percentage\r\n    };\r\n\r\n    const handleMouseEnter = (e, text) => {\r\n        setTooltip(true);\r\n        setTooltipText(text);\r\n        updateTooltipPosition(e);\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        updateTooltipPosition(e);\r\n    };\r\n\r\n    const handleMouseLeave = () => {\r\n        setTooltip(false);\r\n    };\r\n\r\n    const updateTooltipPosition = (e) => {\r\n        setTooltipPosition({ x: e.clientX, y: e.clientY });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {users?.map((user, index) => {\r\n                const userStatuses = data;\r\n            \r\n                return (\r\n                    <div key={user.username + index}>\r\n                        <div style={{position: \"absolute\" }}>{user.username}</div>\r\n                        <div\r\n                            style={{\r\n                            display: \"flex\",\r\n                            flexDirection: \"row\",\r\n                            justifyContent: \"flex-end\",\r\n                            maxWidth: document.getElementById(\"user-info-box\").offsetWidth\r\n                            }}\r\n                        >\r\n                            {userStatuses?.map((item, index) => {\r\n                                const startTime = item.timestamp;\r\n                                const endTime = index === 0 ? item.timestamp : userStatuses[index - 1].timestamp;\r\n\r\n                                const width = calculateWidth(startTime, endTime);\r\n                            \r\n                                return (\r\n                                    <div\r\n                                    key={`${item.timestamp}${index}`}\r\n                                    style={{\r\n                                        backgroundColor:\r\n                                        userStatuses[index-1]?.status === \"offline\"\r\n                                            ? \"grey\"\r\n                                            : userStatuses[index-1]?.status === \"dnd\"\r\n                                            ? \"red\"\r\n                                            : userStatuses[index-1]?.status === \"idle\"\r\n                                            ? \"orange\"\r\n                                            : \"green\",\r\n                                        minWidth: `${width}px`,\r\n                                        minHeight: \"20px\", // Set the height as per your requirement\r\n                                    }}\r\n                                    onMouseEnter={(e) => handleMouseEnter(e, JSON.stringify({...item, status: userStatuses[index-1]?.status, startTime: userStatuses[index-1]?.timestamp}))}\r\n                                    onMouseMove={handleMouseMove}\r\n                                    onMouseLeave={handleMouseLeave}\r\n                                    >\r\n                                        <span style={{ display: \"none\" }}>{JSON.stringify({...item, startTime: userStatuses[index-1]?.timestamp})}</span>\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            })}\r\n\r\n            <div\r\n                style={{\r\n                display: tooltip ? \"block\" : \"none\",\r\n                position: \"absolute\",\r\n                top: tooltipPosition.y + 10,\r\n                left: tooltipPosition.x + 10,\r\n                backgroundColor: \"#fff\",\r\n                padding: \"5px\",\r\n                border: \"1px solid #ccc\",\r\n                borderRadius: \"5px\",\r\n                boxShadow: \"0 0 5px rgba(0, 0, 0, 0.1)\",\r\n                color: \"black\"\r\n                }}\r\n            >\r\n                {tooltipText && <p style={{margin: 0}}>{JSON.parse(tooltipText).username}<br/>{new Date(JSON.parse(tooltipText).startTime).toLocaleString(\"cs\")} - {new Date(JSON.parse(tooltipText).timestamp).toLocaleString(\"cs\")}<br/>{JSON.parse(tooltipText).status}</p>}\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default UserChart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}