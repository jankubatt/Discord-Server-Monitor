{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\morpheus\\\\Projects\\\\discord-activity\\\\frontend\\\\src\\\\components\\\\Chart\\\\Chart.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Chart = ({\n  data,\n  users\n}) => {\n  _s();\n  const [tooltip, setTooltip] = useState(false);\n  const [tooltipText, setTooltipText] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const screenWidth = window.innerWidth; // Get the screen width\n\n  const calculateWidth = (startTime, endTime) => {\n    const timeDiff = endTime - startTime;\n    const maxWidth = screenWidth; // Maximum width based on screen width\n    const percentage = timeDiff / 86400000 * 100; // Convert time difference to percentage\n    return maxWidth * percentage / 100; // Calculate width based on percentage\n  };\n\n  const handleMouseEnter = (e, text) => {\n    setTooltip(true);\n    setTooltipText(text);\n    updateTooltipPosition(e);\n  };\n  const handleMouseMove = e => {\n    updateTooltipPosition(e);\n  };\n  const handleMouseLeave = () => {\n    setTooltip(false);\n  };\n  const updateTooltipPosition = e => {\n    setTooltipPosition({\n      x: e.clientX,\n      y: e.clientY\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [users === null || users === void 0 ? void 0 : users.map(user => {\n      const userStatuses = data.filter(dataItem => user.username === dataItem.username);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            WebkitTextStroke: \"1px black\",\n            fontSize: \"1.2em\"\n          },\n          children: user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n            margin: \"1px\"\n          },\n          children: userStatuses === null || userStatuses === void 0 ? void 0 : userStatuses.map((item, index) => {\n            var _userStatuses2;\n            const startTime = item.timestamp;\n            const endTime = index === 0 ? item.timestamp : userStatuses[index - 1].timestamp;\n            const width = calculateWidth(endTime, startTime);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                backgroundColor: item.status === \"offline\" ? \"grey\" : item.status === \"dnd\" ? \"red\" : item.status === \"idle\" ? \"orange\" : \"green\",\n                minWidth: `${width}px`,\n                minHeight: \"20px\" // Set the height as per your requirement\n              },\n\n              onMouseEnter: e => {\n                var _userStatuses;\n                return handleMouseEnter(e, JSON.stringify({\n                  ...item,\n                  startTime: (_userStatuses = userStatuses[index - 1]) === null || _userStatuses === void 0 ? void 0 : _userStatuses.timestamp\n                }));\n              },\n              onMouseMove: handleMouseMove,\n              onMouseLeave: handleMouseLeave,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  display: \"none\"\n                },\n                children: JSON.stringify({\n                  ...item,\n                  startTime: (_userStatuses2 = userStatuses[index - 1]) === null || _userStatuses2 === void 0 ? void 0 : _userStatuses2.timestamp\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 19\n              }, this)\n            }, item.timestamp, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this);\n          })\n        }, user.username, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: tooltip ? \"block\" : \"none\",\n        position: \"absolute\",\n        top: tooltipPosition.y + 10,\n        left: tooltipPosition.x + 10,\n        backgroundColor: \"#fff\",\n        padding: \"5px\",\n        border: \"1px solid #ccc\",\n        borderRadius: \"5px\",\n        boxShadow: \"0 0 5px rgba(0, 0, 0, 0.1)\",\n        color: \"black\"\n      },\n      children: tooltipText && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: 0\n        },\n        children: [JSON.parse(tooltipText).username, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 82\n        }, this), new Date(JSON.parse(tooltipText).startTime).toLocaleString(\"cs\"), \" - \", new Date(JSON.parse(tooltipText).timestamp).toLocaleString(\"cs\"), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 222\n        }, this), JSON.parse(tooltipText).status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Chart, \"L161HfIeFo+jnW9J2yAb29Rh82I=\");\n_c = Chart;\nexport default Chart;\nvar _c;\n$RefreshReg$(_c, \"Chart\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Chart","data","users","_s","tooltip","setTooltip","tooltipText","setTooltipText","tooltipPosition","setTooltipPosition","x","y","screenWidth","window","innerWidth","calculateWidth","startTime","endTime","timeDiff","maxWidth","percentage","handleMouseEnter","e","text","updateTooltipPosition","handleMouseMove","handleMouseLeave","clientX","clientY","children","map","user","userStatuses","filter","dataItem","username","style","position","WebkitTextStroke","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","display","flexDirection","justifyContent","margin","item","index","_userStatuses2","timestamp","width","backgroundColor","status","minWidth","minHeight","onMouseEnter","_userStatuses","JSON","stringify","onMouseMove","onMouseLeave","top","left","padding","border","borderRadius","boxShadow","color","parse","Date","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/morpheus/Projects/discord-activity/frontend/src/components/Chart/Chart.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nconst Chart = ({ data, users }) => {\r\n  const [tooltip, setTooltip] = useState(false);\r\n  const [tooltipText, setTooltipText] = useState(null);\r\n  const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });\r\n\r\n  const screenWidth = window.innerWidth; // Get the screen width\r\n\r\n  const calculateWidth = (startTime, endTime) => {\r\n    const timeDiff = endTime - startTime;\r\n    const maxWidth = screenWidth; // Maximum width based on screen width\r\n    const percentage = (timeDiff / 86400000) * 100; // Convert time difference to percentage\r\n    return (maxWidth * percentage) / 100; // Calculate width based on percentage\r\n  };\r\n\r\n  const handleMouseEnter = (e, text) => {\r\n    setTooltip(true);\r\n    setTooltipText(text);\r\n    updateTooltipPosition(e);\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    updateTooltipPosition(e);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setTooltip(false);\r\n  };\r\n\r\n  const updateTooltipPosition = (e) => {\r\n    setTooltipPosition({ x: e.clientX, y: e.clientY });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {users?.map((user) => {\r\n        const userStatuses = data.filter((dataItem) => user.username === dataItem.username);\r\n        return (\r\n          <div>\r\n          <div style={{position: \"absolute\", WebkitTextStroke: \"1px black\", fontSize: \"1.2em\" }}>{user.username}</div>\r\n          <div\r\n            key={user.username}\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"flex-end\",\r\n              margin: \"1px\"\r\n            }}\r\n          >\r\n            \r\n            {userStatuses?.map((item, index) => {\r\n              const startTime = item.timestamp;\r\n              const endTime =  index === 0 ? item.timestamp : userStatuses[index - 1].timestamp;\r\n\r\n              const width = calculateWidth(endTime, startTime);\r\n\r\n              return (\r\n                <div\r\n                  key={item.timestamp}\r\n                  style={{\r\n                    backgroundColor:\r\n                      item.status === \"offline\"\r\n                        ? \"grey\"\r\n                        : item.status === \"dnd\"\r\n                        ? \"red\"\r\n                        : item.status === \"idle\"\r\n                        ? \"orange\"\r\n                        : \"green\",\r\n                    minWidth: `${width}px`,\r\n                    minHeight: \"20px\", // Set the height as per your requirement\r\n                  }}\r\n                  onMouseEnter={(e) => handleMouseEnter(e, JSON.stringify({...item, startTime: userStatuses[index-1]?.timestamp}))}\r\n                  onMouseMove={handleMouseMove}\r\n                  onMouseLeave={handleMouseLeave}\r\n                >\r\n                  \r\n                  <span style={{ display: \"none\" }}>{JSON.stringify({...item, startTime: userStatuses[index-1]?.timestamp})}</span>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n          </div>\r\n        );\r\n      })}\r\n\r\n      <div\r\n        style={{\r\n          display: tooltip ? \"block\" : \"none\",\r\n          position: \"absolute\",\r\n          top: tooltipPosition.y + 10,\r\n          left: tooltipPosition.x + 10,\r\n          backgroundColor: \"#fff\",\r\n          padding: \"5px\",\r\n          border: \"1px solid #ccc\",\r\n          borderRadius: \"5px\",\r\n          boxShadow: \"0 0 5px rgba(0, 0, 0, 0.1)\",\r\n          color: \"black\"\r\n        }}\r\n      >\r\n        {tooltipText && <p style={{margin: 0}}>{JSON.parse(tooltipText).username}<br/>{new Date(JSON.parse(tooltipText).startTime).toLocaleString(\"cs\")} - {new Date(JSON.parse(tooltipText).timestamp).toLocaleString(\"cs\")}<br/>{JSON.parse(tooltipText).status}</p>}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Chart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}